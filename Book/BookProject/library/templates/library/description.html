{% load static %}

<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>حصار عبق - وصف الكتاب</title>
  <style>
    :root {
      font-family: 'Ping AR + LT', 'Courier New', Courier, monospace;
      --bg-color: #111827;
      --card-bg: #1F2937;
      --text-color: rgb(244, 239, 239);
      --input-bg: #1F2937;
      --input-border: #374151;
      --link-color: #a855f7;
      --gradient-start: #2563EB;
      --gradient-end: #153885;
      --header-bg: #111827;
      --nav-link-color: #d1d5db;
      --btn-gradient: linear-gradient(90deg, #2563EB 0%, #153885 100%);
      --footer-text: #F3F4F6;
      --star-color: #FFD700;
      --star-empty: #6B7280;
    }

    .light-mode {
      --bg-color: rgb(244, 239, 239);
      --card-bg: rgb(244, 239, 239);
      --text-color: #111827;
      --input-bg: #f9fafb;
      --input-border: #d1d5db;
      --link-color: #6d28d9;
      --gradient-start: #a855f7;
      --gradient-end: #6d28d9;
      --header-bg: #e5e7eb;
      --nav-link-color: #4b5563;
      --btn-gradient: linear-gradient(90deg, #a855f7 0%, #6d28d9 100%);
      --footer-text: #4b5563;
      --star-color: #FFA500;
      --star-empty: #D1D5DB;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background-color: var(--bg-color);
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      transition: background-color 0.3s ease;
      position: relative;
      overflow-x: hidden;
      color: var(--text-color);
    }

    /* Background Gradients */
    .bg-gradient-1 {
      width: 200px;
      height: 250px;
      position: absolute;
      left: -50px;
      top: -50px;
      transform: rotate(54deg);
      transform-origin: top left;
      background: linear-gradient(264deg, #7000FF 0%, #06FFF0 100%);
      border-radius: 9999px;
      filter: blur(80px);
      z-index: -1;
    }

    .bg-gradient-2 {
      width: 200px;
      height: 250px;
      position: absolute;
      right: -50px;
      bottom: 100px;
      transform: rotate(54deg);
      transform-origin: top left;
      background: linear-gradient(264deg, #7000FF 0%, #06FFF0 100%);
      border-radius: 9999px;
      filter: blur(80px);
      z-index: -1;
    }

    /* Header Styles */
    header {
      background-color: var(--header-bg);
      padding: 1rem;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      transition: background-color 0.3s ease;
      width: 100%;
      position: relative;
    }

    nav {
      display: flex;
      justify-content: space-evenly;
      align-items: center;
      flex-wrap: wrap;
    }

    .logo-container {
      display: flex;
      align-items: center;
    }

    .logo {
      width: 60px;
      height: auto;
      margin-left: 0.5rem;
    }

    .nav-links {
      display: flex;
      gap: 1rem;
      align-items: center;
    }

    .nav-links a {
      color: var(--nav-link-color);
      text-decoration: none;
      font-weight: 500;
      font-size: 1rem;
      transition: color 0.3s ease;
      padding: 0.5rem;
    }

    .nav-links a:hover {
      color: var(--link-color);
    }

    /* Burger Menu Styles */
    .burger-menu {
      display: none;
      cursor: pointer;
      padding: 10px;
    }

    .burger-menu span {
      display: block;
      width: 25px;
      height: 3px;
      background-color: var(--nav-link-color);
      margin: 5px 0;
      transition: all 0.3s ease;
    }

    /* Mobile Navigation */
    .mobile-nav {
      display: none;
      width: 100%;
      background-color: var(--header-bg);
      padding: 1rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      position: absolute;
      top: 100%;
      left: 0;
      z-index: 1000;
    }

    .mobile-nav.active {
      display: block;
    }

    .mobile-nav-links {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .mobile-nav-links a {
      color: var(--nav-link-color);
      text-decoration: none;
      font-weight: 500;
      font-size: 1.1rem;
      padding: 0.5rem;
      transition: color 0.3s ease;
    }

    .mobile-nav-links a:hover {
      color: var(--link-color);
    }

    .mobile-nav .ui-switch {
      margin: 1rem 0;
    }

    /* Star Rating */
    .rating {
      display: flex;
      justify-content: center;
      margin: 10px 0;
    }

    .star {
      color: var(--star-empty);
      font-size: 1.5rem;
      margin: 0 2px;
      cursor: pointer;
      transition: color 0.2s;
    }

    .star.filled {
      color: var(--star-color);
    }

    .filters-container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 12px;
      margin-bottom: 20px;
    }

    .filters-row {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      justify-content: center;
    }

    .filter-chip {
      padding: 12px 20px;
      border-radius: 50px;
      border: 1px solid #E9EFFD;
      color: #E9EFFD;
      font-size: 14px;
      font-weight: 500;
      font-family: 'Ping AR + LT', sans-serif;
      white-space: nowrap;
      background-color: transparent;
      transition: background-color 0.3s ease, color 0.3s ease;
      cursor: pointer;
    }

    .filter-chip:hover {
      background-color: #E9EFFD;
      color: #111827;
    }

    /* Switch Styles */
    .ui-switch {
      --switch-bg: rgb(135, 150, 165);
      --switch-width: 48px;
      --switch-height: 20px;
      --circle-diameter: 32px;
      --circle-bg: rgb(0, 56, 146);
      --circle-inset: calc((var(--circle-diameter) - var(--switch-height)) / 2);
      margin-right: 1rem;
    }

    .ui-switch input {
      display: none;
    }

    .slider {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      width: var(--switch-width);
      height: var(--switch-height);
      background: var(--switch-bg);
      border-radius: 999px;
      position: relative;
      cursor: pointer;
    }

    .slider .circle {
      top: calc(var(--circle-inset) * -1);
      left: 0;
      width: var(--circle-diameter);
      height: var(--circle-diameter);
      position: absolute;
      background: var(--circle-bg);
      border-radius: inherit;
      background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjAiIHdpZHRoPSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIj4KICAgIDxwYXRoIGZpbGw9IiNmZmYiCiAgICAgICAgZD0iTTkuMzA1IDEuNjY3VjMuNzVoMS4zODlWMS42NjdoLTEuMzl6bS00LjcwNyAxLjk1bC0uOTgyLjk4Mkw1LjA5IDYuMDcybC45ODItLjk4Mi0xLjQ3My0xLjQ3M3ptMTAuODAyIDBMMTMuOTI3IDUuMDlsLjk4Mi45ODIgMS40NzMtMS40NzMtLjk4Mi0uOTgyek0xMCA1LjEzOWE0Ljg3MiA0Ljg3MiAwIDAwLTQuODYyIDQuODZBNC44NzIgNC44NzIgMCAwMDEwIDE0Ljg2MiA0Ljg3MiA0Ljg3MiAwIDAwMTQuODYgMTAgNC44NzIgNC44NzIgMCAwMDEwIDUuMTM5em0wIDEuMzg5QTMuNDYyIDMuNDYyIDAgMDExMy40NzEgMTBhMy40NjIgMy40NjIgMCAwMS0zLjQ3MyAzLjQ3MkEzLjQ2MiAzLjQ2MiAwIDAxNi41MjcgMTAgMy40NjIgMy40NjIgMCAwMTEwIDYuNTI4ek0xLjY2NSA5LjMwNXYxLjM5aDIuMDgzdi0xLjM5SDEuNjY2em0xNC41ODMgMHYxLjM5aDIuMDg0di0xLjM5aC0yLjA4NHpNNS4wOSAxMy45MjhMMy42MTYgMTUuNGwuOTgyLjk4MiAxLjQ3My0xLjQ3My0uOTgyLS45ODJ6bTkuODIwLS45ODJsLjk4Mi45ODIgMS40NzMgMS40NzMuOTgyLS45ODItMS40NzMtMS40NzN6TTkuMzA1IDE2LjI1djIuMDgzaDEuMzg5VjE2LjI1aC0xLjM5eiIgLz4KPC9zdmc+");
      background-repeat: no-repeat;
      background-position: center center;
      transition: left 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, transform 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12);
    }

    .ui-switch input:checked + .slider .circle {
      left: calc(100% - var(--circle-diameter));
      background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjAiIHdpZHRoPSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIj4KICAgIDxwYXRoIGZpbGw9IiNmZmYiCiAgICAgICAgZD0iTTQuMiAyLjVsLS43IDEuOC0xLjguNyAxLjguNy43IDEuOC42LTEuOEw2LjcgNWwtMS45LS43LS42LTEuOHptMTUgOC4zYTYuNyA2LjcgMCAxMS02LjYtNi42IDUuOCA1LjggMCAwMDYuNiA2LjZ6IiAvPgo8L3N2Zz4=");
    }

    /* Main Content */
    .main-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 2rem 1rem;
      position: relative;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
    }

    .book-container {
      background-color: var(--card-bg);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      margin-bottom: 30px;
    }

    .book-cover {
      width: 100%;
      height: 300px;
      overflow: hidden;
      text-align: center;
    }
    
    .cover-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    
    .book-content {
      padding: 25px;
    }

    .book-header {
      text-align: center;
      margin-bottom: 25px;
    }

    .book-header h1 {
      font-size: 28px;
      font-weight: 700;
      color: var(--text-color);
      margin-bottom: 8px;
    }

    .book-header .author {
      font-size: 18px;
      color: var(--nav-link-color);
      margin-bottom: 10px;
    }

    .book-meta {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      margin-bottom: 30px;
    }

    .meta-item {
      display: flex;
      flex-direction: column;
    }

    .meta-label {
      font-size: 14px;
      color: var(--nav-link-color);
      margin-bottom: 5px;
    }

    .meta-value {
      font-size: 16px;
      font-weight: 600;
      color: var(--text-color);
    }

    .book-actions {
      display: flex;
      justify-content: center;
    }

    .action-btn {
        margin: auto;
      padding: 12px 40px;
      border-radius: 8px;
      font-size: 18px;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s ease;
      border: none;
      cursor: pointer;
    }

    .read-btn {
      background: var(--btn-gradient);
      color: white;
    }

    .read-btn:hover {
      background: linear-gradient(90deg, var(--gradient-end) 0%, var(--gradient-start) 100%);
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    /* وصف الكتاب */
    .book-description {
      border-radius: 12px;
      padding: 30px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .book-description h2 {
      font-size: 22px;
      margin-bottom: 15px;
      color: var(--text-color);
    }

    .book-description p {
      font-size: 16px;
      line-height: 1.6;
      color: var(--text-color);
    }

    .book-info {
      text-align: center;
    }

    .book-title {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      color: var(--text-color);
    }

    .book-author {
      font-size: 1.2rem;
      color: var(--nav-link-color);
      margin-bottom: 1rem;
    }

    .support-section {
      text-align: center;
      margin: 3rem 0;
    }

    .support-section h2 {
      margin-bottom: 1rem;
      font-size: 1.2rem;
    }

    /* Footer */
    footer {
      background-color: var(--header-bg);
      padding: 2rem 1rem;
      text-align: center;
      margin-top: auto;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 2rem;
      margin-bottom: 1rem;
    }

    .footer-links a {
      color: var(--footer-text);
      text-decoration: none;
      font-size: 1rem;
      transition: color 0.3s ease;
    }

    .footer-links a:hover {
      color: var(--link-color);
    }

    /* Responsive Styles */
    @media (max-width: 768px) {
      .nav-links {
        display: none;
      }
      
      .burger-menu {
        display: block;
      }
      
      .filter-chip {
        font-size: 13px;
        padding: 10px 16px;
      }
      
      .book-cover {
        height: 250px;
      }
      
      .book-meta {
        grid-template-columns: 1fr;
      }
      
      .book-header h1 {
        font-size: 24px;
      }
      
      .action-btn {
        padding: 10px 30px;
        font-size: 16px;
        width: 100%;
      }
      
      .book-content {
        padding: 20px;
      }
    }

    @media (min-width: 768px) {
      .logo {
        width: 80px;
      }

      .nav-links a {
        font-size: 1.2rem;
      }

      .book-container {
        display: flex;
        flex-direction: row;
        align-items: flex-start;
      }

      .book-cover {
        width: 40%;
        height: auto;
      }
      
      .book-content {
        width: 60%;
      }

      .book-info {
        text-align: right;
        flex: 1;
      }

      .book-description {
        text-align: right;
      }
    }

    @media (min-width: 1024px) {
      .bg-gradient-1 {
        width: 351.44px;
        height: 412.47px;
        left: 233.18px;
        top: 0px;
        filter: blur(133.97px);
      }
      
      .bg-gradient-2 {
        width: 351.44px;
        height: 412.47px;
        right: 200px;
        bottom: 300px;
        filter: blur(133.97px);
      }
    }
  </style>
      <link rel="shortcut icon" href="{% static 'img/Group.svg' %}" type="image/x-icon">

</head>
<body>
  <!-- Background Gradients -->
  <div class="bg-gradient-1"></div>
  <div class="bg-gradient-2"></div>

  <!-- Header -->
  <header>
    <nav>
      <div class="logo-container">
                <img src="{% static 'img/Group.svg' %}" alt="منصة القصص العربية">
      </div>
      
      <div class="burger-menu" id="burgerMenu">
        <span></span>
        <span></span>
        <span></span>
      </div>
      
      <div class="nav-links">
            <a href="{% url 'main_page' %}" class="nav-link" >الرئيسية</a>
            <a href="{% url 'Storycate' %}" class="nav-link" >قصصي</a>
            <a href="{% url 'MyLibrary' %}" class="nav-link" >مكتبة</a>
            <a href="{% url 'my_account' %}" class="nav-link" >الحساب</a>
        <label class="ui-switch">
          <input type="checkbox" id="themeSwitch">
          <div class="slider">
            <div class="circle"></div>
          </div>
        </label>
      </div>
    </nav>
    
    <!-- Mobile Navigation -->
    <div class="mobile-nav" id="mobileNav">
      <div class="mobile-nav-links">
            <a href="{% url 'main_page' %}" class="nav-link" >الرئيسية</a>
            <a href="{% url 'Storycate' %}" class="nav-link" >قصصي</a>
            <a href="{% url 'MyLibrary' %}" class="nav-link" >مكتبة</a>
            <a href="{% url 'my_account' %}" class="nav-link" >الحساب</a>
        <label class="ui-switch">
          <input type="checkbox" id="mobileThemeSwitch">
          <div class="slider">
            <div class="circle"></div>
          </div>
        </label>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <div class="main-content">
    <div class="book-container">
        <div class="book-cover">
            <img src="{% static 'img/img1.jpg' %}" alt="غلاف رواية حصار عبق" class="cover-image">
        </div>
        
        <div class="book-content">
            <div class="book-header">
                <h1>حصار عبق</h1>
                <p class="author">ماهر دعبول</p>
                <div class="rating">
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                  <span class="star filled">★</span>
                </div>
            </div>
            
            <div class="book-meta">
                <div class="meta-item">
                    <span class="meta-label">مدة الإستماع:</span>
                    <span class="meta-value">01:15:00</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">التصنيف:</span>
                    <span class="meta-value">رواية / سياسية</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">عدد الصفحات:</span>
                    <span class="meta-value">83</span>
                </div>
                <div class="meta-item">
                    <span class="meta-label">الوقت المتبقي:</span>
                    <span class="meta-value">20 دقيقة</span>
                </div>
            </div>
            
            <div class="book-actions">
                <a href="{% url 'listen' book.id %}" class="action-btn read-btn">اقرأ</a>
                    <img src="{% static 'img/icons8_heart_2 1.svg' %}">
                <a href="{% url 'listen' book.id %}" class="action-btn read-btn">استماع</a>
            </div>
        </div>
    </div>
    
    <div class="book-description">
        <h2>وصف الكتاب</h2>
        <p>
            في عالم يمزقه الصراع وتغمره المآسي، تأتي رواية "حصار عبق" للكاتب ماهر دعبول لتجسد قصةً مؤلمة ومتعمقة في نفوس شخصيات تبحث عن الخلاص والهوية. تَنسُج الرواية حبكتها من خيوط القهر والأمل، لتأخذ القارئ في جولة مشحونة بالعواطف والتجارب الفريدة.
        </p>
    </div>
    
    <div class="support-section">
      <h2>أحببت هذا العمل؟ ادعم الكاتب بمبلغ بسيط ليساعده على تقديم المزيد</h2>
      <button class="action-btn read-btn">ادعمه الآن</button>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-links">
      <a href="#">عن المنصة</a>
      <a href="#">الدعم</a>
      <a href="#">سياسة الخصوصية</a>
      <a href="#">تواصل معنا</a>
    </div>
    <div style="color: var(--footer-text); margin-top: 1rem;">
      © 2023 جميع الحقوق محفوظة
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Dark/Light Mode Toggle
      const themeSwitch = document.getElementById('themeSwitch');
      const mobileThemeSwitch = document.getElementById('mobileThemeSwitch');
      
      // Check for saved theme preference
      if (localStorage.getItem('darkMode') === 'false') {
        document.body.classList.add('light-mode');
        themeSwitch.checked = true;
        mobileThemeSwitch.checked = true;
      }
      
      // Theme switch
      themeSwitch.addEventListener('change', function() {
        document.body.classList.toggle('light-mode');
        localStorage.setItem('darkMode', !this.checked);
        mobileThemeSwitch.checked = this.checked;
      });
      
      mobileThemeSwitch.addEventListener('change', function() {
        document.body.classList.toggle('light-mode');
        localStorage.setItem('darkMode', !this.checked);
        themeSwitch.checked = this.checked;
      });
      
      // Burger Menu Toggle
      const burgerMenu = document.getElementById('burgerMenu');
      const mobileNav = document.getElementById('mobileNav');
      
      burgerMenu.addEventListener('click', function() {
        this.classList.toggle('active');
        mobileNav.classList.toggle('active');
        
        // Animate burger icon
        const spans = this.querySelectorAll('span');
        if (this.classList.contains('active')) {
          spans[0].style.transform = 'rotate(45deg) translate(5px, 5px)';
          spans[1].style.opacity = '0';
          spans[2].style.transform = 'rotate(-45deg) translate(7px, -6px)';
        } else {
          spans[0].style.transform = '';
          spans[1].style.opacity = '';
          spans[2].style.transform = '';
        }
      });
      
      // Prevent zooming on mobile
      document.addEventListener('gesturestart', function(e) {
        e.preventDefault();
      });
    });
  </script>
</body>
</html>